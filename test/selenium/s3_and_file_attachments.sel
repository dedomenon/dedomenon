<script type="text/javascript">
netscape.security.PrivilegeManager.enablePrivilege('UniversalFileRead');
</script>
|open|/selenium/setup?fixtures=account_types,account_type_values,accounts,databases,data_types,detail_status,details,detail_value_propositions,entities,entities2details,relation_side_types,relations,instances,detail_values,integer_detail_values,date_detail_values,ddl_detail_values,links,user_types,users||
|open|/app||
|assertTitle|exact:madb_madb::||
|type|user_login|raphinou@yahoo.com|
|type|user_password|linuxxxx|
|clickAndWait|commit||
|clickAndWait|link=Tasks||
|clickAndWait|//div[@id='menu']/div[5]/table/thead/tr/th/span/a[2]/img||
|clickAndWait|link=madb_new_entity||
|type|entity_name|Files|
|clickAndWait|commit||
|clickAndWait|link=madb_administrate||
|clickAndWait|link=madb_add_new_detail||
|type|details_name|SimpleFile|
|clickAndWait|commit||
|select|displayed_in_list_view|label=madb_yes|
|clickAndWait|commit||
|clickAndWait|link=madb_add_new_detail||
|select|details[data_type_id]|label=madb_file_attachment|
|type|details_name|S3File|
|clickAndWait|commit||
|select|displayed_in_list_view|label=madb_yes|
|clickAndWait|commit||
|clickAndWait|//tbody[@id='1']/tr/td/span[2]/a[1]/img||
|pause|1000||
|type|SimpleFile[0][value]|~/files/64K|
|type|S3File[0][value]|~/files/32K|
|click|commit||
|pause|1500||
|assertTable|entities_list_Files.1.0|64K|
|assertTable|entities_list_Files.1.1|32K|
|clickAndWait|//img[@alt='Edit']||
|assertVisible|//td[text() = '64K']/img[@alt='delete_file']||
|assertVisible|//td[text() = '64K']/img[@alt='replace_file']||
|assertVisible|//td[text() = '32K']/img[@alt='replace_file']||
|assertVisible|//td[text() = '32K']/img[@alt='delete_file']||
|click|//td[text() = '32K']/img[@alt='replace_file']||
|assertVisible|//td[text() = '64K']/img[@alt='delete_file']||
|assertVisible|//td[text() = '64K']/img[@alt='replace_file']||
|assertElementNotPresent|//td[text() = '32K']/img[@alt='replace_file']||
|assertElementNotPresent|//td[text() = '32K']/img[@alt='delete_file']||
|assertVisible|//td[text() = 'S3File:']/following-sibling::td/img[@alt="undo_replace_file"]||
|assertVisible|//td[text() = 'S3File:']/following-sibling::td/input[@type="file"]||
|click|//td[text() = 'S3File:']/following-sibling::td/img[@alt="undo_replace_file"]||
|assertVisible|//td[text() = '64K']/img[@alt='delete_file']||
|assertVisible|//td[text() = '64K']/img[@alt='replace_file']||
|assertVisible|//td[text() = '32K']/img[@alt='replace_file']||
|assertVisible|//td[text() = '32K']/img[@alt='delete_file']||
|click|//td[text() = '32K']/img[@alt='replace_file']||
|type|//td[text() = 'S3File:']/following-sibling::td/input[@type="file"]|~/files/128K|
|clickAndWait|commit||
|click|//tbody[@id='1']/tr/td/span/a||
|pause|1500||
|assertTable|entities_list_Files.1.0|64K|
|assertTable|entities_list_Files.1.1|128K|
|clickAndWait|//img[@alt='Edit']||
|click|//td[text() = '64K']/img[@alt='delete_file']||
|pause|500||
|assertElementPresent|//td[text() = 'SimpleFile:']/following-sibling::td/input[@type="file"]||
|clickAndWait|//a[ text() = 'madb_cancel']||
|assertTable|entities_list_Files.1.0||
|assertTable|entities_list_Files.1.1|128K|
|click|//img[@alt='Delete']||
|assertConfirmation|madb_really_delete_entity_question||
|clickAndWait|link=madb_logout||
|assertTitle|exact:madb_madb::||
