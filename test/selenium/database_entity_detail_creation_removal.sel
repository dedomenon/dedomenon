|open|/selenium/setup?fixtures=account_types,account_type_values,accounts,databases,data_types,detail_status,details,detail_value_propositions,entities,entities2details,relation_side_types,relations,instances,detail_values,integer_detail_values,date_detail_values,ddl_detail_values,links,user_types,users||
|open|/app||
|assertTitle|exact:madb_madb::||
|type|user_login|raphinou@yahoo.com|
|type|user_password|linuxxxx|
|clickAndWait|commit||
|clickAndWait|link=madb_admin_databases||
|assertText|//div[@id='bd']//h1|madb_databases_list|
|pause|1000||
|type|//input[@name="database[name]"]|TestDatabase|
|click|//button[@id="commit"]||
|pause|1000||
|open|/app/admin/databases/edit/10||
|type|database_name|JustANewName|
|assertText|//div[@id='bd']//h1|madb_edit_database|
|clickAndWait|commit||
|pause|1000||
|assertElementPresent|//div[@id='databases_list']//table/tbody[@class="yui-dt-data"]/tr/td/div[.="JustANewName"]||
|clickAndWait|//div[@id='databases_list']//table/tbody[@class="yui-dt-data"]/tr[5]//img[@alt="View"]||
|pause|1000||
|type|//div[@id="addition_form"]//input[@name="entity[name]"]|NewEntity|
|click|//div[@id="addition_form"]//button[@id="commit"]||
|pause|1000||
|assertElementPresent|//div[@id='entities_list']//table/tbody[@class="yui-dt-data"]/tr/td/div[.="NewEntity"]||
|assertElementPresent|//div[@id='entities_list']//table/tbody[@class="yui-dt-data"]/tr/td[2]/div[.="madb_no"]||
|assertElementPresent|//div[@id='entities_list']//table/tbody[@class="yui-dt-data"]/tr/td[3]/div[.="madb_no"]||
|assertElementPresent|//div[@id='entities_list']//table/tbody[@class="yui-dt-data"]/tr/td[4]/div[.="madb_no"]||
|click|//div[@id='entities_list']//table/tbody[@class="yui-dt-data"]/tr/td[8]/div/img[@alt="Delete" and @record_id="100001"]||
|assertConfirmation|madb_really_delete_entity_table_question||
|clickAndWait|link=madb_admin_databases||
|pause|1000||
|assertText|//div[@id='bd']//h1|madb_databases_list|
|open|/app/admin/details?db=10|madb_details_list|
|assertElementPresent|link=madb_define_new_detail||
|clickAndWait|link=madb_define_new_detail||
|assertText|//div[@id='bd']//h1|madb_new_detail_title|
|type|details_name|NewDetail|
|select|details[data_type_id]|label=madb_choose_in_list|
|assertElementPresent|details[data_type_id]||
|assertElementPresent|proposition_entry||
|assertElementPresent|detail_propositions||
|assertElementPresent|//input[@value='madb_remove_propositions']||
|assertElementPresent|//input[@value='madb_add_proposition']||
|type|proposition_entry|Option1|
|click|//input[@value='madb_add_proposition']||
|type|proposition_entry|Option2|
|click|//input[@value='madb_add_proposition']||
|type|proposition_entry|Option3|
|click|//input[@value='madb_add_proposition']||
|addSelection|detail_propositions|label=Option2|
|click|//input[@value='madb_remove_propositions']||
|clickAndWait|commit||
|assertTable|//div[@id='bd']//table.1.0|NewDetail|
|assertText|//div[@id='bd']//h1/span|madb_details_list|
|click|//img[@alt='Delete']||
|assertConfirmation|madb_delete_detail_question||
|clickAndWait|link=madb_admin_databases||
|pause|1000||
|assertText|//div[@id='bd']//h1|madb_databases_list|
|click|//div[@id='databases_list']//table/tbody[@class="yui-dt-data"]/tr[5]/td[5]/div/img[@alt="Delete" and @record_id="10"]||
|assertConfirmation|madb_really_delete_database_question||
|clickAndWait|link=madb_logout||
|assertTitle|exact:madb_madb::||
